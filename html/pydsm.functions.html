
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>pydsm.functions package &#8212; pydsm 2021.12.13+1.g51f6697 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pydsm.input package" href="pydsm.input.html" />
    <link rel="prev" title="pydsm package" href="pydsm.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="pydsm-functions-package">
<h1>pydsm.functions package<a class="headerlink" href="#pydsm-functions-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-pydsm.functions.tidalhl">
<span id="pydsm-functions-tidalhl-module"></span><h2>pydsm.functions.tidalhl module<a class="headerlink" href="#module-pydsm.functions.tidalhl" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.filter_where_na">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">filter_where_na</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#filter_where_na"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.filter_where_na" title="Permalink to this definition">¶</a></dt>
<dd><p>remove values in df where dfb has na values</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.get_index_diff">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">get_index_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#get_index_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.get_index_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the difference of index values of each element in the dataframe
The times in the dataframe may or may not coincide
The difference is in Timedelta and is converted to minutes 
On any error, the returned value is np.nan</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.get_smoothed_resampled">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">get_smoothed_resampled</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2H'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample_period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1T'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolate_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pchip'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#get_smoothed_resampled"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.get_smoothed_resampled" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample the dataframe (indexed by time) to the regular period of resample_period using the interpolate method</p>
<p>Furthermore the cosine lanczos filter is used with a cutoff_period to smooth the signal to remove high frequency noise</p>
<p>Args:</p>
<blockquote>
<div><p>df (DataFrame): A single column dataframe indexed by datetime</p>
<p>cutoff_period (str, optional): cutoff period for cosine lanczos filter. Defaults to ‘2H’.</p>
<p>resample_period (str, optional): Resample to regular period. Defaults to ‘1T’.</p>
<p>interpolate_method (str, optional): interpolation for resampling. Defaults to ‘pchip’.</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>DataFrame: smoothed and resampled dataframe indexed by datetime</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.get_tidal_amplitude">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">get_tidal_amplitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#get_tidal_amplitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.get_tidal_amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Tidal amplitude given tidal highs and lows</p>
<p>Args:</p>
<blockquote>
<div><p>dfh (DataFrame): Tidal highs time series</p>
<p>dfl (DataFrame): Tidal lows time series</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>DataFrame: Amplitude timeseries, at the times of the low following the high being used for amplitude calculation</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.get_tidal_amplitude_diff">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">get_tidal_amplitude_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfamp1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfamp2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#get_tidal_amplitude_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.get_tidal_amplitude_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the difference of values within +/- 4H of values in the two amplitude arrays</p>
<p>Args:</p>
<blockquote>
<div><p>dfamp1 (DataFrame): Amplitude time series</p>
<p>dfamp2 (DataFrame): Amplitude time series</p>
<p>percent_diff (bool, optional): If true do percent diff. Defaults to False.</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>DataFrame: Difference dfamp1-dfamp2 or % Difference (dfamp1-dfamp2)/dfamp2*100  for values within +/- 4H of each other</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.get_tidal_hl">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">get_tidal_hl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2H'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample_period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1T'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolate_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pchip'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'7H'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#get_tidal_hl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.get_tidal_hl" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Tidal highs and lows</p>
<p>Args:</p>
<blockquote>
<div><p>df (DataFrame): A single column dataframe indexed by datetime</p>
<p>cutoff_period (str, optional): cutoff period for cosine lanczos filter. Defaults to ‘2H’.</p>
<p>resample_period (str, optional): Resample to regular period. Defaults to ‘1T’.</p>
<p>interpolate_method (str, optional): interpolation for resampling. Defaults to ‘pchip’.</p>
<p>moving_window_size (str, optional): moving window size to look for lows within. Defaults to ‘7H’.</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>tuple of DataFrame: Tidal high and tidal low time series</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.get_tidal_hl_rolling">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">get_tidal_hl_rolling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2H'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample_period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1T'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolate_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pchip'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'7H'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pydsm.functions.tidalhl.get_tidal_hl_rolling" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Tidal highs and lows</p>
<p>Args:</p>
<blockquote>
<div><p>df (DataFrame): A single column dataframe indexed by datetime</p>
<p>cutoff_period (str, optional): cutoff period for cosine lanczos filter. Defaults to ‘2H’.</p>
<p>resample_period (str, optional): Resample to regular period. Defaults to ‘1T’.</p>
<p>interpolate_method (str, optional): interpolation for resampling. Defaults to ‘pchip’.</p>
<p>moving_window_size (str, optional): moving window size to look for lows within. Defaults to ‘7H’.</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>tuple of DataFrame: Tidal high and tidal low time series</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.get_tidal_hl_zerocrossing">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">get_tidal_hl_zerocrossing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1T'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#get_tidal_hl_zerocrossing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.get_tidal_hl_zerocrossing" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the tidal high and low times using zero crossings of the first derivative.</p>
<p>This works for all situations but is not robust in the face of noise and perturbations in the signal</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.get_tidal_phase_diff">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">get_tidal_phase_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfh2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfl2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfh1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfl1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#get_tidal_phase_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.get_tidal_phase_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the phase difference between df2 and df1 tidal highs and lows</p>
<p>Scans +/- 4 hours in df1 to get the highs and lows in that windows for df2 to 
get the tidal highs and lows at the times of df1</p>
<p>Args:</p>
<blockquote>
<div><p>dfh2 (DataFrame): Timeseries of tidal highs</p>
<p>dfl2 (DataFrame): Timeseries of tidal lows</p>
<p>dfh1 (DataFrame): Timeseries of tidal highs</p>
<p>dfl1 (DataFRame): Timeseries of tidal lows</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>DataFrame: Phase difference (dfh2-dfh1) and (dfl2-dfl1) in minutes</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.get_value_diff">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">get_value_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#get_value_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.get_value_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the difference of values of each element in the dataframe
The times in the dataframe may or may not coincide as this is a slice of irregularly sampled time series
On any error, the returned value is np.nan</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.limit_to_indices">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">limit_to_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">si</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ei</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#limit_to_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.limit_to_indices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.lmax">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">lmax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#lmax"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.lmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Local maximum: Returns value only when centered on maximum</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.lmin">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">lmin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#lmin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.lmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Local minimum: Returns value only when centered on minimum</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.periods_per_window">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">periods_per_window</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moving_window_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_str</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">int</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#periods_per_window"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.periods_per_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of period size in moving window</p>
<p>Args:</p>
<blockquote>
<div><p>moving_window_size (str): moving window size as a string e.g 7H for 7 hour</p>
<p>period_str (str): period as str e.g. 1T for 1 min</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>int: number of periods in the moving window rounded to an integer</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.tidal_highs">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">tidal_highs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'7H'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#tidal_highs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.tidal_highs" title="Permalink to this definition">¶</a></dt>
<dd><p>Tidal highs (could be upto two highs in a 25 hr period)</p>
<p>Args:</p>
<blockquote>
<div><p>df (DataFrame): a time series with a regular frequency</p>
<p>moving_window_size (str, optional): moving window size to look for highs within. Defaults to ‘7H’.</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>DataFrame: an irregular time series with highs at resolution of df.index</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.tidal_lows">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">tidal_lows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'7H'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#tidal_lows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.tidal_lows" title="Permalink to this definition">¶</a></dt>
<dd><p>Tidal lows (could be upto two lows in a 25 hr period)</p>
<p>Args:</p>
<blockquote>
<div><p>df (DataFrame): a time series with a regular frequency</p>
<p>moving_window_size (str, optional): moving window size to look for lows within. Defaults to ‘7H’.</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>DataFrame: an irregular time series with lows at resolution of df.index</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.where_changed">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">where_changed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#where_changed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.where_changed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.where_same">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">where_same</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#where_same"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.where_same" title="Permalink to this definition">¶</a></dt>
<dd><p>return dfg only where its value is the same as df for the same time stamps
i.e. the interesection locations with df</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tidalhl.zerocross">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tidalhl.</span></span><span class="sig-name descname"><span class="pre">zerocross</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tidalhl.html#zerocross"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tidalhl.zerocross" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the gradient of the time series and identifies locations where gradient changes sign
Returns the time rounded to nearest minute where the zero crossing happens (based on linear derivative assumption)</p>
</dd></dl>

</section>
<section id="module-pydsm.functions.tsmath">
<span id="pydsm-functions-tsmath-module"></span><h2>pydsm.functions.tsmath module<a class="headerlink" href="#module-pydsm.functions.tsmath" title="Permalink to this headline">¶</a></h2>
<p>Timeseries operation
Conform to HEC-convention.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.linregress">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">linregress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xseries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yseries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#linregress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.linregress" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.mean_error">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">mean_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#mean_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.mean_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.mse">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">mse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.series.Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.series.Series</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#mse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.mse" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean Squared Error (MSE)</p>
<p>Args:</p>
<blockquote>
<div><p>series1 (Series or single value): 
series2 (Series or single value):</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>Mean squared error</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.nash_sutcliffe">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">nash_sutcliffe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#nash_sutcliffe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.nash_sutcliffe" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://en.wikipedia.org/wiki/Nash%E2%80%93Sutcliffe_model_efficiency_coefficient">https://en.wikipedia.org/wiki/Nash%E2%80%93Sutcliffe_model_efficiency_coefficient</a></p>
<p>Args:</p>
<blockquote>
<div><p>series1 (Series): Can be considered as model in the URL above
series2 (Series): Can be considered the observed in the URL above</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>Nash Sutcliffe Efficiency</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.nmean_error">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">nmean_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#nmean_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.nmean_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.nmse">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">nmse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.series.Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.series.Series</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#nmse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.nmse" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalized Mean Squared Error (NMSE)
Normalizes (i.e. divides) by the mean value of series2 (considered the target or observed values)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.nrmse">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">nrmse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#nrmse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.nrmse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.per_aver">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">per_aver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'D'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#per_aver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.per_aver" title="Permalink to this definition">¶</a></dt>
<dd><p>PermissionErroriod averages of the time series in DataFrame provided for the interval (see Pandas resample for codes)
In addition to conform to HEC-conventions the resampling is done with closed=”right” and label=”right”</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.per_max">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">per_max</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'D'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#per_max"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.per_max" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.per_min">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">per_min</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'D'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#per_min"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.per_min" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.percent_bias">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">percent_bias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#percent_bias"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.percent_bias" title="Permalink to this definition">¶</a></dt>
<dd><p>Percent bias (PBIAS) measures the average tendency 
of the simulated values to be larger or smaller than their observed ones.</p>
<p><a class="reference external" href="https://rdrr.io/cran/hydroGOF/man/pbias.html#:~:text=Percent%20bias%20(PBIAS)%20measures%20the,values%20indicating%20accurate%20model%20simulation">https://rdrr.io/cran/hydroGOF/man/pbias.html#:~:text=Percent%20bias%20(PBIAS)%20measures%20the,values%20indicating%20accurate%20model%20simulation</a></p>
<p>Args:</p>
<blockquote>
<div><p>series1 (Series): can be considered as model
series2 (Series): can be considered as observed or target</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>float : percent bias</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.resample_hec_style">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">resample_hec_style</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'D'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#resample_hec_style"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.resample_hec_style" title="Permalink to this definition">¶</a></dt>
<dd><p>Resampling of time series in DataFrame provided for the interval (see Pandas resample for codes)
In addition to conform to HEC-conventions the resampling is done with closed=”right” and label=”right”
see pandas resample documentation to understand these arguments</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.rmse">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">rmse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#rmse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.rmse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydsm.functions.tsmath.rsr">
<span class="sig-prename descclassname"><span class="pre">pydsm.functions.tsmath.</span></span><span class="sig-name descname"><span class="pre">rsr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydsm/functions/tsmath.html#rsr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydsm.functions.tsmath.rsr" title="Permalink to this definition">¶</a></dt>
<dd><p>Ratio of the RMSE to the standard deviation of the observed time series</p>
<p>Args:</p>
<blockquote>
<div><p>series1 (Series): can be considered as model
series2 (Series): can be considered as observed or target</p>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>float : RSR</p>
</div></blockquote>
</dd></dl>

</section>
<section id="module-pydsm.functions">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pydsm.functions" title="Permalink to this headline">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">pydsm</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">pydsm</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">pydsm</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pydsm.html">pydsm package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/notebooks.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">pydsm</a><ul>
  <li><a href="pydsm.html">pydsm package</a><ul>
      <li>Previous: <a href="pydsm.html" title="previous chapter">pydsm package</a></li>
      <li>Next: <a href="pydsm.input.html" title="next chapter">pydsm.input package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Nicky Sandhu.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/pydsm.functions.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>